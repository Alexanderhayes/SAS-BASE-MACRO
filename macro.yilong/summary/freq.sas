%macro freq(data,var,by,out);
data tmp;
    set &data;
run;
%summary(tmp,&var,&by,tmp1);
data tmp1;
    set tmp1;
    _total_ = sum;
    keep &by _total_;
run;
data tmp;
    merge tmp tmp1;
    by &by;
run;
data tmp;
    set tmp;
    per = &var / _total_ * 100;
run;
%mend freq;
